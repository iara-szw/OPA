@{
    var tienda = ViewBag.tienda;
    var productos = ViewBag.productos;
    bool permisos = ViewBag.permisos ?? false;
}

<!DOCTYPE html>
<html>
<head>
    <title>@tienda.Nombre</title>
    <meta charset="utf-8" />
    <style>
        body { font-family: Arial; margin: 0; background:white; }
        header{height:70px;background:linear-gradient(90deg,#ff0174 0%,#000 55%,#ff0074 100%);display:flex;align-items:center;justify-content:space-between;padding:0 20px;color:white;}
        .container{max-width:1100px;margin:30px auto;padding:0 20px;}
        h1{text-align:center;font-size:26px;margin-bottom:20px;font-weight:800;}
        .grid{display:grid;grid-template-columns:1fr 200px 1fr;gap:25px;align-items:center;margin-bottom:30px;}
        .card{border:2px solid #111;border-radius:10px;padding:15px;background:white;}
        .card p{font-size:14px;margin:10px 0;}
        .btn{width:100%;padding:10px;border-radius:8px;border:2px solid #111;background:white;font-weight:700;margin-top:10px;cursor:pointer;}
        .btn-danger{border-color:red;color:red;}
        .avatar{width:160px;height:160px;border-radius:50%;border:6px solid #111;display:flex;align-items:center;justify-content:center;font-size:60px;overflow:hidden;}
        .avatar img{width:100%;height:100%;object-fit:cover;}
        .cta{text-align:center;margin:25px 0;}
        .publish-btn{padding:12px 18px;border:2px solid #111;border-radius:10px;background:white;font-weight:800;}
        .carousel{display:flex;gap:15px;overflow-x:auto;padding-bottom:10px;}
        .item{min-width:150px;border-radius:10px;background:#f4f4f4;padding:8px;text-align:center;}
        .item img{width:100%;height:150px;object-fit:cover;border-radius:8px;}
    </style>
</head>
<body>

<header>
    <div><b>OPA!</b></div>
    <div>üîç üõí ‚ò∞</div>
</header>

<div class="container">

    <h1>¬°HOLA @tienda.Nombre!</h1>

    <div class="grid">

        <!-- Informaci√≥n -->
        <div class="card">
            <p><b>NOMBRE</b><br>@tienda.Nombre</p>
            <p><b>MAIL</b><br>@tienda.Mail</p>
            <p><b>TEL√âFONO</b><br>@tienda.Telefono</p>
            <p><b>UBICACI√ìN</b><br>@tienda.Ubicacion</p>

            @if(permisos){
                <button class="btn" onclick="location.href='/Tienda/editarTienda'">EDITAR DATOS</button>
            }
        </div>

        <!-- Avatar -->
        <div style="text-align:center;">
            <div class="avatar">
                @if(!String.IsNullOrEmpty(tienda.FotoDePerfil))
                {
                    <img src="@tienda.FotoDePerfil" />
                }
                else
                {
                    <span>üë§</span>
                }
            </div>
        </div>

        <!-- Opciones -->
        <div class="card">
            @if(permisos){
                <button class="btn" onclick="location.href='/Tienda/pedidos'">ADMINISTRAR PEDIDOS</button>
                <button class="btn" onclick="location.href='/Tienda/estadisticas'">VER ESTAD√çSTICAS</button>
            }
            <button class="btn" onclick="location.href='/Ayuda'">AYUDA</button>
            <button class="btn" onclick="location.href='/Sesion/logout'">CERRAR SESI√ìN</button>

            @if(permisos){
                <button class="btn btn-danger" onclick="location.href='/Tienda/eliminarTienda'">ELIMINAR TIENDA</button>
            }
        </div>

    </div>

    <!-- Publicar -->
    @if(permisos){
    <div class="cta">
        <p>¬°Public√° tus nuevos productos!</p>
        <button class="publish-btn" onclick="location.href='/Producto/crear'">
            HACER PUBLICACI√ìN
        </button>
    </div>
    }

    <!-- Productos -->
    <h2>MIS PRENDAS ></h2>
    <div class="carousel">
        @foreach(var p in productos)
        {
            <div class="item">
                <img src="@p.Foto" alt="">
                <div>@p.Nombre</div>
            </div>
        }
    </div>

</div>

</body>
</html>
